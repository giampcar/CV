const xlabels = [];
const ytemps = [];
const xhumlabels = [];
const yhum = [];

chartIt1();
getData1();
async function chartIt1(){
	await getData1();

const ctx = document.getElementById('myChart').getContext('2d');


const myChart = new Chart(ctx, {

    type: 'line',
    data: {
        labels: xlabels,
        datasets: [{
            label: 'External temperature',
            data: ytemps,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',

      
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
      
            ],
            borderWidth: 1
        },
		{
            label: 'Internal temperature',
            data: [150,200,80,20,-10],
            backgroundColor: [
                'rgba(30, 99, 20, 0.2)',

      
            ],
            borderColor: [
                'rgba(30, 99, 20, 1)',
      
            ],
            borderWidth: 1
        }
		]
    },
	

    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
})
}




//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX





chartIt();
getData1();
async function chartIt(){
	await getData1();

const ctx = document.getElementById('humidity').getContext('2d');


const humidity = new Chart(ctx, {

    type: 'line',
    data: {
        labels: xhumlabels,
        datasets: [{
            label: 'Humidity [%]',
            data: yhum,
            backgroundColor: [
                'rgba(50, 50, 150, 0.2)',

      
            ],
            borderColor: [
                'rgba(50, 50, 150, 1)',
      
            ],
            borderWidth: 1
        }
		]
    },
	

    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
		
    }
})
}



async function getData1(){
	const response = await fetch("https://www.giampaolocarducci.tk/pages/temperature_ext.csv");
	const data = await response.text();
	
	const table = data.split('\n').slice(0);
	table.forEach(row =>{
		const columns = row.split(',');
		const year = columns [0];
		const temp = columns[1];
		const hum = columns[2];
		xhumlabels.push(year);
		xlabels.push(year);
		yhum.push(hum);
		ytemps.push(temp);


	//	console.log(year,temp,hum);
	// console.log(columns);
				
});

}
//console.log(xhumlabels);









